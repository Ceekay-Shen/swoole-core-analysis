```
原创内容，转载请注明出处, 谢谢~
```

## 0.3 一次小小的swoole内核之旅

思路: swoole总体的架构图,从一行小的代码来开始扩展讲解

> 本节我们先来一次简单的swoole内核之旅，初步感受下swoole内核的强大。下面是段`php`代码:

~~~php
/*
	fileName: server.php
 */
// 初始化服务器对象
$serv = new swoole_server('127.0.0.1', 9501, SWOOLE_BASE);

// 注册回调函数
$serv->on('connect', function ($serv, $fd){
    echo "Client:Connect.\n";
});
$serv->on('receive', function ($serv, $fd, $from_id, $data) {
    $serv->send($fd, 'Swoole: '.$data);
    $serv->close($fd);
});
$serv->on('close', function ($serv, $fd) {
    echo "Client: Close.\n";
});

// 启动服务器
$serv->start();
~~~

在命令行执行`php server.php`, 新开一个终端，执行`nc -v 127.0.0.1 9501`,这时候这个新开的客户端就会连接到我们的`php server.php`开启的服务器上。输入`hello-swoole`, 会返回`Swoole: hello-swoole`并关闭连接。表示本次swoole通信结束。
那么内核是如何处理这些流程呢？接下来我们将一步一步讲解。

~~~php
// 初始化服务器对象
$serv = new swoole_server('127.0.0.1', 9501, SWOOLE_BASE);
~~~

在服务器初始化阶段。
















---

[目录](../README.md)

[上一节 : swoole扩展安装](./02.install.md)

[下一节 : 字符串](../01/01.string.md)